@{
    Layout = "_Layout";
}

<div class="main-wrapper">
    <!-- Боковое меню для раздела "Статусы" -->
    <nav class="left-menu">
        <h5 class="mb-3">Статусы</h5>
        <ul class="navbar-nav flex-grow-1">
            <li class="nav-item">
                <a class="nav-link text-dark @IsActive("Statuses", "TypeTitle")" asp-controller="Statuses" asp-action="TypeTitle">Тип тайтла</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @IsActive("Statuses", "StatusTitle")" asp-controller="Statuses" asp-action="StatusTitle">Статус тайтла</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @IsActive("Statuses", "StatusTranslate")" asp-controller="Statuses" asp-action="StatusTranslate">Статус перевода</a>
            </li>
        </ul>
    </nav>

    <!-- Основной контент для страницы -->
    <div class="main-content">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
</div>

@await RenderSectionAsync("Scripts", required: false)

@functions {
    // Новая, улучшенная функция
    string IsActive(string controller, string action)
    {
        string currentController = ViewContext.RouteData.Values["controller"]?.ToString();
        string currentAction = ViewContext.RouteData.Values["action"]?.ToString();

        // Возвращаем "active", только если И контроллер, И действие совпадают
        if (controller.Equals(currentController, StringComparison.OrdinalIgnoreCase) &&
            action.Equals(currentAction, StringComparison.OrdinalIgnoreCase))
        {
            return "active";
        }
        return "";
    }
}